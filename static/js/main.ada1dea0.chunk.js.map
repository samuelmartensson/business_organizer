{"version":3,"sources":["contexts/UserContext.js","data/UserKit.js","components/Header.jsx","style/globalStyle.js","components/CustomerList.jsx","data/FormKit.js","components/FormInputElement.jsx","components/FormPagination.jsx","components/FormContainer.jsx","pages/HomePage.jsx","pages/LoginPage.jsx","components/ClientDetailPageList.jsx","components/ClientDetailPageBtns.jsx","pages/ClientDetailPage.jsx","pages/RegisterPage.jsx","components/ProtectedRoute.jsx","App.js","index.js"],"names":["UserContext","createContext","ROOT_URL","string","charAt","toUpperCase","slice","firstName","lastName","email","password","organisationName","organisationKind","url","payload","this","getPostFetch","uid","token","fetch","headers","getPrivateHeaders","getToken","method","body","JSON","stringify","id","getPublicHeaders","Authorization","localStorage","getItem","setItem","Header","handleSignOut","userCredentials","useContext","HeaderContainer","InfoWrapper","onClick","styled","div","header","BoxShadowContainer","LoggedOutFormContainer","LoggedOutFormBtn","button","CustomerList","customerList","length","Container","map","customerItem","i","ListItem","key","to","name","organisationNr","reference","input","value","RegExp","test","String","toLowerCase","val","errObj","message","fields","callback","errorCb","errors","formIsValid","undefined","vatNr","checkVatInput","reportError","checkEmail","paymentTerm","checkIsNumber","phoneNumber","Object","entries","forEach","field","FormInputElement","label","handleChange","userKit","UserKit","className","htmlFor","capitalizeFirstLetter","replace","trim","Input","onChange","e","target","FormPagination","inputObjects","pageNr","pageSplit","useState","lowerValue","setLowerValue","higherValue","setHigherValue","useEffect","fieldsPerPage","item","InputWrap","labelValue","stateVariable","setStateVariable","ErrorMsg","FormContainer","mode","clientDetails","setIsUpdate","fetchClients","formKit","FormKit","setPageNr","setErrors","setName","setEmail","setOrganisationNr","setVatNr","setReference","setPaymentTerm","website","setWebsite","setPhoneNumber","createCustomer","then","res","ok","json","Error","statusText","data","catch","err","alert","FormWrapper","ButtonWrap","Button","primary","prevState","validate","updateCustomer","reduce","result","index","props","HomePage","document","title","TwoColumnLayout","LoginPage","setIsLoggedIn","loginEmail","setLoginEmail","loginPassword","setLoginPassword","history","useHistory","searchString","location","search","urlParams","URLSearchParams","get","setUid","setToken","handleLogin","login","push","activateUser","SignInContainer","InnerWrap","placeholder","type","onKeyUp","ClientDetailPageList","client","ListWrap","rel","href","ul","ClientDetailPageBtns","handleDelete","LinkWrapper","ClientDetailPage","isUpdate","setClient","match","params","activeClient","filter","parseInt","getClient","OuterContainer","window","confirm","deleteCustomer","RegisterPage","signOut","setFirstName","setLastName","setPassword","orgName","setOrgName","orgKind","setOrgKind","hasRegistered","setHasRegistered","InputContainer","required","renderInput","register","PrivateRoute","Component","component","rest","render","App","isLoggedIn","setUserCredentials","setCustomerList","getLoggedInUser","Provider","getCustomerList","results","ProtectedRoute","path","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ada1dea0.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nexport const UserContext = createContext(null);\r\n","const ROOT_URL = 'https://frebi.willandskill.eu/';\r\n\r\nexport default class {\r\n  capitalizeFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n\r\n  async register(\r\n    firstName,\r\n    lastName,\r\n    email,\r\n    password,\r\n    organisationName,\r\n    organisationKind\r\n  ) {\r\n    const url = `${ROOT_URL}auth/users/`;\r\n    const payload = {\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      password,\r\n      organisationName,\r\n      organisationKind,\r\n    };\r\n    return this.getPostFetch(url, payload);\r\n  }\r\n\r\n  async activateUser(uid, token) {\r\n    const url = `${ROOT_URL}auth/users/activate/`;\r\n    const payload = { uid, token };\r\n    return this.getPostFetch(url, payload);\r\n  }\r\n\r\n  async login(email, password) {\r\n    const url = `${ROOT_URL}api-token-auth/`;\r\n    const payload = { email, password };\r\n    return this.getPostFetch(url, payload);\r\n  }\r\n\r\n  async getLoggedInUser() {\r\n    const url = `${ROOT_URL}api/v1/me`;\r\n    return fetch(url, {\r\n      headers: this.getPrivateHeaders(this.getToken()),\r\n    });\r\n  }\r\n  async getCustomerList() {\r\n    const url = `${ROOT_URL}api/v1/customers`;\r\n    return fetch(url, {\r\n      headers: this.getPrivateHeaders(this.getToken()),\r\n    });\r\n  }\r\n  async createCustomer(payload) {\r\n    const url = `${ROOT_URL}api/v1/customers`;\r\n    return fetch(url, {\r\n      method: 'POST',\r\n      headers: this.getPrivateHeaders(this.getToken()),\r\n      body: JSON.stringify(payload),\r\n    });\r\n  }\r\n  async deleteCustomer(id) {\r\n    const url = `${ROOT_URL}api/v1/customers/${id}/`;\r\n    return fetch(url, {\r\n      method: 'DELETE',\r\n      headers: this.getPrivateHeaders(this.getToken()),\r\n    });\r\n  }\r\n  async updateCustomer(payload, id) {\r\n    const url = `${ROOT_URL}api/v1/customers/${id}/`;\r\n    return fetch(url, {\r\n      method: 'PUT',\r\n      headers: this.getPrivateHeaders(this.getToken()),\r\n      body: JSON.stringify(payload),\r\n    });\r\n  }\r\n  getPostFetch(url, payload) {\r\n    return fetch(url, {\r\n      method: 'POST',\r\n      headers: this.getPublicHeaders(),\r\n      body: JSON.stringify(payload),\r\n    });\r\n  }\r\n\r\n  getPublicHeaders() {\r\n    return {\r\n      'Content-Type': 'application/json',\r\n    };\r\n  }\r\n  getPrivateHeaders(token) {\r\n    return {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    };\r\n  }\r\n\r\n  getToken() {\r\n    return localStorage.getItem('BUSINESS_TOKEN');\r\n  }\r\n\r\n  setToken(token) {\r\n    localStorage.setItem('BUSINESS_TOKEN', token);\r\n  }\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { UserContext } from '../contexts/UserContext';\r\nimport styled from 'styled-components';\r\n\r\nexport default function Header({ handleSignOut }) {\r\n  const { userCredentials } = useContext(UserContext);\r\n\r\n  function renderUserInfo() {\r\n    return (\r\n      <InfoWrapper>\r\n        <span>\r\n          {userCredentials.firstName} {userCredentials.lastName}\r\n        </span>\r\n        <span>{userCredentials.email}</span>\r\n      </InfoWrapper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <HeaderContainer>\r\n      {userCredentials && renderUserInfo()}\r\n      <button onClick={handleSignOut}>Sign out</button>\r\n    </HeaderContainer>\r\n  );\r\n}\r\n\r\nconst InfoWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst HeaderContainer = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: calc(0.5rem + 1.5vw);\r\n  background: purple;\r\n  color: white;\r\n  button {\r\n    border: 2px solid white;\r\n    border-radius: 50px;\r\n    background: none;\r\n    color: white;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n    transition-duration: 80ms;\r\n    &:hover {\r\n      background: white;\r\n      color: purple;\r\n    }\r\n    @media (min-width: 500px) {\r\n      padding: 1rem 2rem;\r\n    }\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const BoxShadowContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 1rem;\r\n  box-shadow: 0 0 11px rgba(0, 0, 0, 0.2);\r\n  border-radius: 4px;\r\n`;\r\nexport const LoggedOutFormContainer = styled.div`\r\n  height: 100vh;\r\n  display: grid;\r\n  background: linear-gradient(45deg, #909090, #3e3e77);\r\n  place-items: center;\r\n`;\r\nexport const LoggedOutFormBtn = styled.button`\r\n  border-radius: 100px;\r\n  border: none;\r\n  background: purple;\r\n  cursor: pointer;\r\n  padding: 1rem 4rem;\r\n  color: white;\r\n  font-size: 1.15rem;\r\n  display: block;\r\n  margin: 18px auto;\r\n`;\r\n","import React from 'react';\r\nimport { BoxShadowContainer } from '../style/globalStyle';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport default function CustomerList({ customerList }) {\r\n  return (\r\n    <div>\r\n      <h2>Clients {customerList && `(${customerList.length})`}</h2>\r\n      <Container>\r\n        {customerList &&\r\n          customerList.map((customerItem, i) => {\r\n            return (\r\n              <ListItem key={i}>\r\n                <Link to={`/client/${customerItem.id}`}>\r\n                  <h3>{customerItem.name}</h3>\r\n                  <div>\r\n                    <span>Org. Nr: </span>\r\n                    <span>{customerItem.organisationNr}</span>\r\n                  </div>\r\n                  <div>\r\n                    <span>Reference: </span>\r\n                    <span>{customerItem.reference}</span>\r\n                  </div>\r\n                </Link>\r\n              </ListItem>\r\n            );\r\n          })}\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Container = styled(BoxShadowContainer)`\r\n  height: 550px;\r\n  overflow-y: auto;\r\n`;\r\n\r\nconst ListItem = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-left: 3px solid purple;\r\n  padding-left: 1rem;\r\n  margin: 0.5rem;\r\n  width: 100%;\r\n  animation: anim 0.5s ease;\r\n\r\n  @keyframes anim {\r\n    0% {\r\n      opacity: 0;\r\n      transform: translateY(-7px);\r\n    }\r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  h3 {\r\n    margin: 0;\r\n  }\r\n\r\n  a {\r\n    color: black;\r\n    text-decoration: none;\r\n    &:hover {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n\r\n  div {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    border-bottom: 1px dashed rgba(0, 0, 0, 0.2);\r\n  }\r\n`;\r\n","export default class {\r\n  checkVatInput(input) {\r\n    if (input) {\r\n      const value = input;\r\n      const regex = new RegExp(/^(SE)?[0-9]{10}$/);\r\n      return regex.test(value);\r\n    }\r\n  }\r\n  checkEmail(email) {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n  }\r\n  checkIsNumber(val) {\r\n    return /^\\d+$/.test(val);\r\n  }\r\n  reportError(errObj, key, message) {\r\n    errObj[key] = message;\r\n  }\r\n  validate(fields, callback, errorCb) {\r\n    let errors = {};\r\n    let formIsValid = true;\r\n    if (fields.vatNr !== undefined && !this.checkVatInput(fields.vatNr)) {\r\n      formIsValid = false;\r\n      this.reportError(errors, 'vatNr', 'Format should be SE + 10 numbers');\r\n    }\r\n    if (fields.email !== undefined && !this.checkEmail(fields.email)) {\r\n      formIsValid = false;\r\n      this.reportError(errors, 'email', 'Email is not valid');\r\n    }\r\n    if (\r\n      fields.paymentTerm !== undefined &&\r\n      !this.checkIsNumber(fields.paymentTerm)\r\n    ) {\r\n      formIsValid = false;\r\n      this.reportError(errors, 'paymentTerm', 'Should only contain numbers');\r\n    }\r\n    if (\r\n      fields.organisationNr !== undefined &&\r\n      !this.checkIsNumber(fields.organisationNr)\r\n    ) {\r\n      formIsValid = false;\r\n      this.reportError(errors, 'organisationNr', 'Should only contain numbers');\r\n    }\r\n    if (\r\n      fields.reference !== undefined &&\r\n      !this.checkIsNumber(fields.reference)\r\n    ) {\r\n      formIsValid = false;\r\n      this.reportError(errors, 'reference', 'Should only contain numbers');\r\n    }\r\n    if (\r\n      fields.phoneNumber !== undefined &&\r\n      !this.checkIsNumber(fields.phoneNumber)\r\n    ) {\r\n      formIsValid = false;\r\n      this.reportError(errors, 'phoneNumber', 'Should only contain numbers');\r\n    }\r\n\r\n    Object.entries(fields).forEach((field) => {\r\n      const key = field[0];\r\n      const value = field[1];\r\n      if (value === '') {\r\n        formIsValid = false;\r\n        errors[key] = 'Required';\r\n      }\r\n    });\r\n\r\n    //SUBMIT\r\n    if (formIsValid) {\r\n      callback();\r\n    } else {\r\n      errorCb(errors);\r\n    }\r\n  }\r\n}\r\n","import React from 'react';\r\nimport UserKit from '../data/UserKit';\r\nimport styled from 'styled-components';\r\n\r\nexport default function FormInputElement({ label, handleChange, value }) {\r\n  const userKit = new UserKit();\r\n  return (\r\n    <div className=\"input-wrap\">\r\n      <label htmlFor={label}>\r\n        {/* Insert space after capital letter */}\r\n        {userKit.capitalizeFirstLetter(\r\n          (label = label.replace(/([A-Z])/g, ' $1').trim())\r\n        )}\r\n        *\r\n      </label>\r\n      <Input onChange={(e) => handleChange(e.target.value)} value={value} />\r\n    </div>\r\n  );\r\n}\r\nconst Input = styled.input`\r\n  padding: 15px;\r\n  border: none;\r\n  border-radius: 2rem;\r\n  background: #eaeaea;\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport FormInputElement from './FormInputElement';\r\n\r\nexport default function FormPagination({\r\n  inputObjects,\r\n  errors,\r\n  pageNr,\r\n  pageSplit,\r\n}) {\r\n  const [lowerValue, setLowerValue] = useState();\r\n  const [higherValue, setHigherValue] = useState();\r\n\r\n  function renderInput(labelValue, stateVariable, setStateVariable) {\r\n    return (\r\n      <FormInputElement\r\n        label={labelValue}\r\n        value={stateVariable}\r\n        handleChange={setStateVariable}\r\n      />\r\n    );\r\n  }\r\n  useEffect(() => {\r\n    const fieldsPerPage = inputObjects.length / pageSplit;\r\n    setLowerValue(fieldsPerPage * pageNr);\r\n    setHigherValue(fieldsPerPage * pageNr + fieldsPerPage);\r\n  }, [pageNr, inputObjects.length, pageSplit]);\r\n\r\n  return (\r\n    <>\r\n      {inputObjects.slice(lowerValue, higherValue).map((item, i) => {\r\n        return (\r\n          <InputWrap key={item[0]}>\r\n            {renderInput(item[0], item[1], item[2])}\r\n            {errors[item[0]] && (\r\n              <ErrorMsg key={errors[item[0]]}>{errors[item[0]]}</ErrorMsg>\r\n            )}\r\n          </InputWrap>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n}\r\nconst InputWrap = styled.div`\r\n  display: grid;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 400px;\r\n  position: relative;\r\n  animation: anim 0.3s ease;\r\n\r\n  @keyframes anim {\r\n    0% {\r\n      opacity: 0;\r\n      transform: translateY(-7px);\r\n    }\r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  label {\r\n    font-weight: bold;\r\n  }\r\n`;\r\nconst ErrorMsg = styled.div`\r\n  color: red;\r\n  font-weight: bold;\r\n  padding: 3px;\r\n  position: absolute;\r\n  bottom: -27px;\r\n  left: 0;\r\n  animation: fade 0.4s;\r\n  transform-origin: center;\r\n\r\n  @keyframes fade {\r\n    0% {\r\n      opacity: 0;\r\n    }\r\n    10% {\r\n      transform: translateX(5px);\r\n      opacity: 1;\r\n    }\r\n    20% {\r\n      transform: translateX(-5px);\r\n    }\r\n    30% {\r\n      transform: translateX(5px);\r\n    }\r\n\r\n    50% {\r\n      transform: translateX(0px);\r\n    }\r\n    100% {\r\n    }\r\n  }\r\n`;\r\n","import React, { useState } from 'react';\r\nimport FormKit from '../data/FormKit';\r\nimport UserKit from '../data/UserKit';\r\nimport { BoxShadowContainer } from '../style/globalStyle';\r\nimport styled from 'styled-components';\r\nimport FormPagination from './FormPagination';\r\n\r\nexport default function FormContainer({\r\n  mode,\r\n  id,\r\n  clientDetails,\r\n  setIsUpdate,\r\n  fetchClients,\r\n}) {\r\n  const pageSplit = 2;\r\n  const userKit = new UserKit();\r\n  const formKit = new FormKit();\r\n  const [pageNr, setPageNr] = useState(0);\r\n  const [errors, setErrors] = useState({});\r\n  const [name, setName] = useState(clientDetails ? clientDetails.name : '');\r\n  const [email, setEmail] = useState(clientDetails ? clientDetails.email : '');\r\n  const [organisationNr, setOrganisationNr] = useState(\r\n    clientDetails ? clientDetails.organisationNr : ''\r\n  );\r\n  const [vatNr, setVatNr] = useState(clientDetails ? clientDetails.vatNr : '');\r\n  const [reference, setReference] = useState(\r\n    clientDetails ? clientDetails.reference : ''\r\n  );\r\n  const [paymentTerm, setPaymentTerm] = useState(\r\n    clientDetails ? clientDetails.paymentTerm : ''\r\n  );\r\n  const [website, setWebsite] = useState(\r\n    clientDetails ? clientDetails.website : ''\r\n  );\r\n  const [phoneNumber, setPhoneNumber] = useState(\r\n    clientDetails ? clientDetails.phoneNumber : ''\r\n  );\r\n  const inputObjects = [\r\n    ['name', name, setName],\r\n    ['organisationNr', organisationNr, setOrganisationNr],\r\n    ['email', email, setEmail],\r\n    ['reference', reference, setReference],\r\n    ['paymentTerm', paymentTerm, setPaymentTerm],\r\n    ['website', website, setWebsite],\r\n    ['phoneNumber', phoneNumber, setPhoneNumber],\r\n    ['vatNr', vatNr, setVatNr],\r\n  ];\r\n  function clearInputs() {\r\n    inputObjects.forEach((input) => {\r\n      input[2]('');\r\n    });\r\n  }\r\n  function createCustomer(payload) {\r\n    userKit\r\n      .createCustomer(payload)\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error(res.statusText + ' Check your inputs');\r\n        }\r\n      })\r\n      .then((data) => {\r\n        fetchClients();\r\n        clearInputs();\r\n        setPageNr(0);\r\n      })\r\n      .catch((err) => alert(err));\r\n  }\r\n  function updateCustomer(payload, id) {\r\n    userKit\r\n      .updateCustomer(payload, id)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        fetchClients();\r\n        setIsUpdate(false);\r\n      });\r\n  }\r\n  function handleCustomer() {\r\n    const payload = {\r\n      name,\r\n      organisationNr,\r\n      paymentTerm,\r\n      phoneNumber,\r\n      reference,\r\n      vatNr,\r\n      website,\r\n      email,\r\n    };\r\n    formKit.validate(\r\n      payload,\r\n      () => {\r\n        setErrors({});\r\n        switch (mode) {\r\n          case 'create':\r\n            createCustomer(payload);\r\n            break;\r\n          case 'update':\r\n            updateCustomer(payload, id);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      },\r\n      (errors) => {\r\n        setErrors(errors);\r\n      }\r\n    );\r\n  }\r\n  function nextStep() {\r\n    const fieldsPerPage = inputObjects.length / pageSplit;\r\n    const payload = inputObjects\r\n      .slice(fieldsPerPage * pageNr, fieldsPerPage * pageNr + fieldsPerPage)\r\n      .reduce((result, item, index) => {\r\n        result[item[0]] = item[1];\r\n        return result;\r\n      }, {});\r\n    formKit.validate(\r\n      payload,\r\n      () => {\r\n        setErrors({});\r\n        setPageNr((prevState) => prevState + 1);\r\n      },\r\n      (errors) => {\r\n        setErrors(errors);\r\n      }\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>{userKit.capitalizeFirstLetter(mode)} client</h2>\r\n      <FormWrapper>\r\n        <FormPagination\r\n          inputObjects={inputObjects}\r\n          errors={errors}\r\n          pageSplit={pageSplit}\r\n          pageNr={pageNr}\r\n        />\r\n        <ButtonWrap>\r\n          {mode === 'update' && (\r\n            <Button primary onClick={() => setIsUpdate(false)}>\r\n              Close\r\n            </Button>\r\n          )}\r\n          {pageNr !== 0 && (\r\n            <Button onClick={() => setPageNr((prevState) => prevState - 1)}>\r\n              Back\r\n            </Button>\r\n          )}\r\n\r\n          {pageNr === pageSplit - 1 ? (\r\n            <Button onClick={handleCustomer}>\r\n              {userKit.capitalizeFirstLetter(mode)}\r\n            </Button>\r\n          ) : (\r\n            <Button onClick={nextStep}>Next</Button>\r\n          )}\r\n        </ButtonWrap>\r\n      </FormWrapper>\r\n    </div>\r\n  );\r\n}\r\nconst FormWrapper = styled(BoxShadowContainer)`\r\n  min-height: 550px;\r\n  display: grid;\r\n  width: 100%;\r\n  place-items: center;\r\n\r\n  .input-wrap {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 4px;\r\n    width: 100%;\r\n  }\r\n  button {\r\n    padding: 1rem 2rem;\r\n    border: none;\r\n    color: white;\r\n    font-size: 16px;\r\n    cursor: pointer;\r\n  }\r\n`;\r\nconst ButtonWrap = styled.div`\r\n  margin: auto 0;\r\n  display: flex;\r\n  gap: 1rem;\r\n  grid-column: 1/-1;\r\n`;\r\nconst Button = styled.button`\r\n  background: ${(props) => (props.primary ? 'purple' : '#77dd97')};\r\n\r\n  &:hover {\r\n    background: ${(props) => (props.primary ? '#5a045a' : '#59b977')};\r\n  }\r\n`;\r\n","import React, { useEffect, useContext } from 'react';\r\nimport { UserContext } from '../contexts/UserContext';\r\nimport CustomerList from '../components/CustomerList';\r\nimport FormContainer from '../components/FormContainer';\r\nimport styled from 'styled-components';\r\n\r\nexport default function HomePage() {\r\n  const { customerList, fetchClients } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    document.title = 'Dashboard - Admin';\r\n    fetchClients();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <h1>Dashboard</h1>\r\n        <TwoColumnLayout>\r\n          <FormContainer mode=\"create\" fetchClients={fetchClients} />\r\n          <CustomerList customerList={customerList} />\r\n        </TwoColumnLayout>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nconst TwoColumnLayout = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\r\n  padding: 0 1rem;\r\n  gap: 1rem;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\nconst Container = styled.div`\r\n  h1 {\r\n    text-align: center;\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from 'react';\r\nimport UserKit from '../data/UserKit';\r\nimport { LoggedOutFormContainer, LoggedOutFormBtn } from '../style/globalStyle';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport default function LoginPage({ setIsLoggedIn }) {\r\n  const userKit = new UserKit();\r\n  const [loginEmail, setLoginEmail] = useState('');\r\n  const [loginPassword, setLoginPassword] = useState('');\r\n  let history = useHistory();\r\n  let searchString = history.location.search;\r\n  let urlParams = new URLSearchParams(searchString);\r\n\r\n  const [uid, setUid] = useState(urlParams.get('uid'));\r\n  const [token, setToken] = useState(urlParams.get('token'));\r\n\r\n  useEffect(() => {\r\n    document.title = 'Sign in';\r\n  }, []);\r\n\r\n  function handleLogin() {\r\n    userKit\r\n      .login(loginEmail, loginPassword)\r\n\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.token) {\r\n          userKit.setToken(data.token);\r\n          setIsLoggedIn(true);\r\n          history.push('/home');\r\n        } else {\r\n          alert('Invalid credentials');\r\n        }\r\n      });\r\n  }\r\n  function handleKeyUp(event) {\r\n    if (event.key === 'Enter') {\r\n      handleLogin();\r\n    }\r\n  }\r\n\r\n  function handleActivateUser() {\r\n    userKit.activateUser(uid, token).then(() => {\r\n      setUid(null);\r\n      setToken(null);\r\n      history.push('/login');\r\n    });\r\n  }\r\n  return (\r\n    <LoggedOutFormContainer>\r\n      {uid && token ? (\r\n        <div>\r\n          <h2>Activate Account</h2>\r\n          <button onClick={handleActivateUser}>Activate my account</button>\r\n        </div>\r\n      ) : (\r\n        <SignInContainer>\r\n          <h2>Sign In</h2>\r\n          <InnerWrap>\r\n            <div className=\"input-wrap\">\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                placeholder=\"example@email.com\"\r\n                onChange={(e) => setLoginEmail(e.target.value)}\r\n                value={loginEmail}\r\n                type=\"email\"\r\n              />\r\n            </div>\r\n            <div className=\"input-wrap\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                placeholder=\"Password\"\r\n                value={loginPassword}\r\n                onChange={(e) => setLoginPassword(e.target.value)}\r\n                type=\"password\"\r\n                onKeyUp={(e) => handleKeyUp(e)}\r\n              />\r\n            </div>\r\n            <LoggedOutFormBtn onClick={handleLogin}>Sign in</LoggedOutFormBtn>\r\n            <div className=\"register\">\r\n              No account? <Link to=\"/register\">Register here</Link>\r\n            </div>\r\n          </InnerWrap>\r\n        </SignInContainer>\r\n      )}\r\n    </LoggedOutFormContainer>\r\n  );\r\n}\r\n\r\nconst InnerWrap = styled.div`\r\n  padding: 1rem;\r\n  border-radius: 5px;\r\n  background: white;\r\n  width: 100%;\r\n`;\r\nconst SignInContainer = styled.div`\r\n  width: 100%;\r\n  max-width: 450px;\r\n  margin: 0.5rem;\r\n  h2 {\r\n    font-size: 40px;\r\n    color: #fff;\r\n    white-space: nowrap;\r\n    text-align: center;\r\n    margin: 0;\r\n  }\r\n  input {\r\n    padding: 8px;\r\n  }\r\n  .input-wrap {\r\n    display: grid;\r\n    grid-template-rows: 1fr 1fr;\r\n    align-items: center;\r\n    width: 100%;\r\n  }\r\n  label {\r\n    font-weight: bold;\r\n  }\r\n\r\n  .register {\r\n    text-align: center;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ClientDetailPageList({ client }) {\r\n  return (\r\n    <>\r\n      <h1>{client.name}</h1>\r\n      <ListWrap>\r\n        <li>\r\n          <span>Org. Nr</span>\r\n          <span>{client.organisationNr}</span>\r\n        </li>\r\n        <li>\r\n          <span>Reference</span>\r\n          <span>{client.reference}</span>\r\n        </li>\r\n        <li>\r\n          <span>Payment Term</span>\r\n          <span>{client.paymentTerm}</span>\r\n        </li>\r\n        <li>\r\n          <span>Website</span>\r\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href={client.website}>\r\n            {client.website}\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <span>Email</span>\r\n          <span>{client.email}</span>\r\n        </li>\r\n        <li>\r\n          <span>Phone Number</span>\r\n          <span>{client.phoneNumber}</span>\r\n        </li>\r\n        <li>\r\n          <span>VAT Nr</span>\r\n          <span>{client.vatNr}</span>\r\n        </li>\r\n      </ListWrap>\r\n    </>\r\n  );\r\n}\r\nconst ListWrap = styled.ul`\r\n  list-style-type: none;\r\n  padding: 0;\r\n  width: 100%;\r\n  min-width: 250px;\r\n  li {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    border-bottom: 1px dashed rgba(0, 0, 0, 0.2);\r\n    padding-top: 1rem;\r\n    font-size: calc(0.5rem + 2vw);\r\n\r\n    @media (min-width: 600px) {\r\n      font-size: 1.2rem;\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ClientDetailPageBtns({ handleDelete, setIsUpdate }) {\r\n  return (\r\n    <LinkWrapper>\r\n      <Link to=\"/home\">\r\n        <i className=\"fas fa-arrow-left\"></i>\r\n        <span>Back</span>\r\n      </Link>\r\n      <button onClick={() => setIsUpdate(true)}>\r\n        <i className=\"fas fa-pen\"></i>\r\n        <span>Edit</span>\r\n      </button>\r\n      <button to=\"/home\" onClick={handleDelete}>\r\n        <i className=\"fas fa-minus-circle\"></i>\r\n        <span>Delete</span>\r\n      </button>\r\n    </LinkWrapper>\r\n  );\r\n}\r\nconst LinkWrapper = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n\r\n  a,\r\n  button {\r\n    cursor: pointer;\r\n    border: none;\r\n    text-align: center;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 0.75rem;\r\n    width: 90px;\r\n    background: purple;\r\n    color: white;\r\n    border-radius: 50px;\r\n    text-decoration: none;\r\n    font-size: 1rem;\r\n    position: relative;\r\n    transition-duration: 100ms;\r\n    span {\r\n      transition-duration: 100ms;\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      font-size: 1rem;\r\n      opacity: 0;\r\n    }\r\n    i {\r\n      transition-duration: 100ms;\r\n    }\r\n    &:hover {\r\n      i {\r\n        transform: translateX(-20px);\r\n      }\r\n      span {\r\n        opacity: 1;\r\n        transform: translate(-20%, -50%);\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { UserContext } from '../contexts/UserContext';\r\nimport UserKit from '../data/UserKit';\r\nimport FormContainer from '../components/FormContainer';\r\nimport ClientDetailPageList from '../components/ClientDetailPageList';\r\nimport ClientDetailPageBtns from '../components/ClientDetailPageBtns';\r\nimport { BoxShadowContainer } from '../style/globalStyle';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ClientDetailPage(props) {\r\n  const userKit = new UserKit();\r\n  const [isUpdate, setIsUpdate] = useState(false);\r\n  const [client, setClient] = useState(null);\r\n  const { customerList, fetchClients } = useContext(UserContext);\r\n\r\n  const id = props.match.params.id;\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (customerList === null) {\r\n      fetchClients();\r\n    } else {\r\n      getClient();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [customerList]);\r\n\r\n  useEffect(() => {\r\n    if (client) document.title = 'Clients - ' + client.name;\r\n  }, [client]);\r\n\r\n  function getClient() {\r\n    const activeClient = customerList.filter(\r\n      (client) => client.id === parseInt(id)\r\n    );\r\n    setClient(activeClient[0]);\r\n  }\r\n  function handleDelete() {\r\n    let answer = window.confirm('Are you sure?');\r\n\r\n    if (answer) {\r\n      userKit\r\n        .deleteCustomer(client.id)\r\n        .then((res) => res)\r\n        .then((data) => {\r\n          fetchClients();\r\n          history.push('/home');\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <OuterContainer>\r\n      {client && (\r\n        <>\r\n          {isUpdate ? (\r\n            <FormContainer\r\n              mode=\"update\"\r\n              id={id}\r\n              clientDetails={client}\r\n              setIsUpdate={setIsUpdate}\r\n              fetchClients={fetchClients}\r\n            />\r\n          ) : (\r\n            <Container>\r\n              <ClientDetailPageList client={client} />\r\n              <ClientDetailPageBtns\r\n                handleDelete={handleDelete}\r\n                setIsUpdate={setIsUpdate}\r\n              />\r\n            </Container>\r\n          )}\r\n        </>\r\n      )}\r\n    </OuterContainer>\r\n  );\r\n}\r\n\r\nconst OuterContainer = styled.div`\r\n  max-width: 600px;\r\n  padding: 1rem;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst Container = styled(BoxShadowContainer)`\r\n  padding: 1rem;\r\n  margin: 1rem auto;\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport UserKit from '../data/UserKit';\r\nimport { LoggedOutFormContainer, LoggedOutFormBtn } from '../style/globalStyle';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport default function RegisterPage({ signOut }) {\r\n  const userKit = new UserKit();\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [orgName, setOrgName] = useState('');\r\n  const [orgKind, setOrgKind] = useState('');\r\n  const [hasRegistered, setHasRegistered] = useState(false);\r\n\r\n  const inputObjects = [\r\n    ['First Name', firstName, setFirstName],\r\n    ['Last Name', lastName, setLastName],\r\n    ['Email', email, setEmail],\r\n    ['Password', password, setPassword, 'password'],\r\n    ['Org. Name', orgName, setOrgName],\r\n    ['Org. Kind', orgKind, setOrgKind],\r\n  ];\r\n\r\n  function handleRegister() {\r\n    userKit.register(firstName, lastName, email, password, orgName, orgKind);\r\n    setHasRegistered(true);\r\n  }\r\n\r\n  function renderInput(\r\n    index,\r\n    placeholder,\r\n    stateVariable,\r\n    setStateVariable,\r\n    type = 'text'\r\n  ) {\r\n    return (\r\n      <InputWrap key={index}>\r\n        <label>{placeholder}</label>\r\n        <input\r\n          required\r\n          type={type}\r\n          placeholder={placeholder}\r\n          value={stateVariable}\r\n          onChange={(e) => setStateVariable(e.target.value)}\r\n        />\r\n      </InputWrap>\r\n    );\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.title = 'Register';\r\n  }, []);\r\n  useEffect(() => {\r\n    signOut();\r\n  }, [signOut]);\r\n\r\n  return (\r\n    <LoggedOutFormContainer>\r\n      <InnerWrap>\r\n        <h2>Register</h2>\r\n        {!hasRegistered ? (\r\n          <InputContainer>\r\n            {inputObjects.map((item, i) => {\r\n              return renderInput(i, item[0], item[1], item[2], item[3]);\r\n            })}\r\n            <LoggedOutFormBtn onClick={handleRegister}>\r\n              Register\r\n            </LoggedOutFormBtn>\r\n            <Link to=\"/\">Back to sign in</Link>\r\n          </InputContainer>\r\n        ) : (\r\n          <h1>Check your email at {email}</h1>\r\n        )}\r\n      </InnerWrap>\r\n    </LoggedOutFormContainer>\r\n  );\r\n}\r\n\r\nconst InnerWrap = styled.div`\r\n  width: 100%;\r\n  max-width: 500px;\r\n  h2 {\r\n    margin: 0;\r\n    align-self: flex-start;\r\n    font-size: 2rem;\r\n    color: white;\r\n  }\r\n`;\r\nconst InputWrap = styled.div`\r\n  display: grid;\r\n  grid-template-rows: 1fr 1fr;\r\n  align-items: center;\r\n  width: 100%;\r\n\r\n  label {\r\n    font-weight: bold;\r\n    color: purple;\r\n  }\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: auto;\r\n  padding: 1rem;\r\n  border-radius: 4px;\r\n  background: white;\r\n\r\n  input {\r\n    padding: 8px;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({ component: Component, token, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) => (token ? <Component {...props} /> : <Redirect to=\"/\" />)}\r\n  />\r\n);\r\n\r\nexport default PrivateRoute;\r\n","import React, { useEffect, useState } from 'react';\nimport { UserContext } from './contexts/UserContext';\nimport UserKit from './data/UserKit';\nimport Header from './components/Header';\nimport HomePage from './pages/HomePage';\nimport LoginPage from './pages/LoginPage';\nimport ClientDetailPage from './pages/ClientDetailPage';\nimport RegisterPage from './pages/RegisterPage';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\n\nfunction App() {\n  const userKit = new UserKit();\n  const [isLoggedIn, setIsLoggedIn] = useState(userKit.getToken() !== '');\n  const [userCredentials, setUserCredentials] = useState(null);\n  const [customerList, setCustomerList] = useState(null);\n  let history = useHistory();\n\n  function handleSignOut() {\n    setIsLoggedIn(false);\n    userKit.setToken('');\n  }\n\n  function fetchClients() {\n    userKit\n      .getCustomerList()\n      .then((res) => res.json())\n      .then((data) => {\n        setCustomerList(data.results);\n      });\n  }\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      userKit\n        .getLoggedInUser()\n        .then((res) => res.json())\n        .then((data) => setUserCredentials(data));\n    } else {\n      history.push('/');\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isLoggedIn]);\n\n  return (\n    <>\n      <UserContext.Provider\n        value={{ userCredentials, customerList, setCustomerList, fetchClients }}\n      >\n        {isLoggedIn && <Header handleSignOut={handleSignOut} />}\n        <Switch>\n          <ProtectedRoute\n            path=\"/home\"\n            component={HomePage}\n            token={isLoggedIn}\n          />\n          <ProtectedRoute\n            path=\"/client/:id\"\n            component={(props) => <ClientDetailPage {...props} />}\n            token={isLoggedIn}\n          />\n          <Route path=\"/register\">\n            <RegisterPage signOut={handleSignOut} />\n          </Route>\n          <Route path=\"/\">\n            {isLoggedIn ? (\n              <Redirect to=\"/home\" />\n            ) : (\n              <LoginPage setIsLoggedIn={setIsLoggedIn} />\n            )}\n          </Route>\n        </Switch>\n      </UserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}