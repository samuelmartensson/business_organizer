(this["webpackJsonpjs-lesson-business"]=this["webpackJsonpjs-lesson-business"]||[]).push([[0],{27:function(e,n,t){e.exports=t(40)},32:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(23),c=t.n(i),u=(t(32),t(3)),o=Object(a.createContext)(null),l=t(6),s=t.n(l),m=t(11),p=t(16),f=t(17),d="https://frebi.willandskill.eu/",h=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,[{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"register",value:function(){var e=Object(m.a)(s.a.mark((function e(n,t,a,r,i,c){var u,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u="".concat(d,"auth/users/"),o={firstName:n,lastName:t,email:a,password:r,organisationName:i,organisationKind:c},e.abrupt("return",this.getPostFetch(u,o));case 3:case"end":return e.stop()}}),e,this)})));return function(n,t,a,r,i,c){return e.apply(this,arguments)}}()},{key:"activateUser",value:function(){var e=Object(m.a)(s.a.mark((function e(n,t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(d,"auth/users/activate/"),r={uid:n,token:t},e.abrupt("return",this.getPostFetch(a,r));case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(m.a)(s.a.mark((function e(n,t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(d,"api-token-auth/"),r={email:n,password:t},e.abrupt("return",this.getPostFetch(a,r));case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"getLoggedInUser",value:function(){var e=Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(d,"api/v1/me"),e.abrupt("return",fetch(n,{headers:this.getPrivateHeaders(this.getToken())}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCustomerList",value:function(){var e=Object(m.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(d,"api/v1/customers"),e.abrupt("return",fetch(n,{headers:this.getPrivateHeaders(this.getToken())}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createCustomer",value:function(){var e=Object(m.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(d,"api/v1/customers"),e.abrupt("return",fetch(t,{method:"POST",headers:this.getPrivateHeaders(this.getToken()),body:JSON.stringify(n)}));case 2:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"deleteCustomer",value:function(){var e=Object(m.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(d,"api/v1/customers/").concat(n,"/"),e.abrupt("return",fetch(t,{method:"DELETE",headers:this.getPrivateHeaders(this.getToken())}));case 2:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"updateCustomer",value:function(){var e=Object(m.a)(s.a.mark((function e(n,t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(d,"api/v1/customers/").concat(t,"/"),e.abrupt("return",fetch(a,{method:"PUT",headers:this.getPrivateHeaders(this.getToken()),body:JSON.stringify(n)}));case 2:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"getPostFetch",value:function(e,n){return fetch(e,{method:"POST",headers:this.getPublicHeaders(),body:JSON.stringify(n)})}},{key:"getPublicHeaders",value:function(){return{"Content-Type":"application/json"}}},{key:"getPrivateHeaders",value:function(e){return{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}},{key:"getToken",value:function(){return localStorage.getItem("BUSINESS_TOKEN")}},{key:"setToken",value:function(e){localStorage.setItem("BUSINESS_TOKEN",e)}}]),e}(),b=t(1),g=t(2);function v(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: calc(0.5rem + 1.5vw);\n  background: purple;\n  color: white;\n  button {\n    border: 2px solid white;\n    border-radius: 50px;\n    background: none;\n    color: white;\n    cursor: pointer;\n    font-weight: bold;\n    transition-duration: 80ms;\n    &:hover {\n      background: white;\n      color: purple;\n    }\n    @media (min-width: 500px) {\n      padding: 1rem 2rem;\n    }\n  }\n"]);return v=function(){return e},e}function E(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return E=function(){return e},e}function O(e){var n=e.handleSignOut,t=Object(a.useContext)(o).userCredentials;return r.a.createElement(y,null,t&&r.a.createElement(j,null,r.a.createElement("span",null,t.firstName," ",t.lastName),r.a.createElement("span",null,t.email)),r.a.createElement("button",{onClick:n},"Sign out"))}var j=g.a.div(E()),y=g.a.header(v());function w(){var e=Object(b.a)(["\n  border-radius: 100px;\n  border: none;\n  background: purple;\n  cursor: pointer;\n  padding: 1rem 4rem;\n  color: white;\n  font-size: 1.15rem;\n  display: block;\n  margin: 18px auto;\n"]);return w=function(){return e},e}function k(){var e=Object(b.a)(["\n  height: 100vh;\n  display: grid;\n  background: linear-gradient(45deg, #909090, #3e3e77);\n  place-items: center;\n"]);return k=function(){return e},e}function x(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 1rem;\n  box-shadow: 0 0 11px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n"]);return x=function(){return e},e}var S=g.a.div(x()),N=g.a.div(k()),C=g.a.button(w()),T=t(9);function I(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  border-left: 3px solid purple;\n  padding-left: 1rem;\n  margin: 0.5rem;\n  width: 100%;\n  animation: anim 0.5s ease;\n\n  @keyframes anim {\n    0% {\n      opacity: 0;\n      transform: translateY(-7px);\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  h3 {\n    margin: 0;\n  }\n\n  a {\n    color: black;\n    text-decoration: none;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  div {\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 1px dashed rgba(0, 0, 0, 0.2);\n  }\n"]);return I=function(){return e},e}function P(){var e=Object(b.a)(["\n  height: 550px;\n  overflow-y: auto;\n"]);return P=function(){return e},e}function L(e){var n=e.customerList;return r.a.createElement("div",null,r.a.createElement("h2",null,"Clients ",n&&"(".concat(n.length,")")),r.a.createElement(F,null,n&&n.map((function(e,n){return r.a.createElement(z,{key:n},r.a.createElement(T.b,{to:"/client/".concat(e.id)},r.a.createElement("h3",null,e.name),r.a.createElement("div",null,r.a.createElement("span",null,"Org. Nr: "),r.a.createElement("span",null,e.organisationNr)),r.a.createElement("div",null,r.a.createElement("span",null,"Reference: "),r.a.createElement("span",null,e.reference))))}))))}var F=Object(g.a)(S)(P()),z=g.a.div(I()),U=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,[{key:"checkVatInput",value:function(e){if(e){var n=e;return new RegExp(/^(SE)?[0-9]{10}$/).test(n)}}},{key:"checkEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"checkIsNumber",value:function(e){return/^\d+$/.test(e)}},{key:"reportError",value:function(e,n,t){e[n]=t}},{key:"validate",value:function(e,n,t){var a={},r=!0;void 0===e.vatNr||this.checkVatInput(e.vatNr)||(r=!1,this.reportError(a,"vatNr","Format should be SE + 10 numbers")),void 0===e.email||this.checkEmail(e.email)||(r=!1,this.reportError(a,"email","Email is not valid")),void 0===e.paymentTerm||this.checkIsNumber(e.paymentTerm)||(r=!1,this.reportError(a,"paymentTerm","Should only contain numbers")),void 0===e.organisationNr||this.checkIsNumber(e.organisationNr)||(r=!1,this.reportError(a,"organisationNr","Should only contain numbers")),void 0===e.reference||this.checkIsNumber(e.reference)||(r=!1,this.reportError(a,"reference","Should only contain numbers")),void 0===e.phoneNumber||this.checkIsNumber(e.phoneNumber)||(r=!1,this.reportError(a,"phoneNumber","Should only contain numbers")),Object.entries(e).forEach((function(e){var n=e[0];""===e[1]&&(r=!1,a[n]="Required")})),r?n():t(a)}}]),e}();function A(){var e=Object(b.a)(["\n  padding: 15px;\n  border: none;\n  border-radius: 2rem;\n  background: #eaeaea;\n"]);return A=function(){return e},e}function R(e){var n=e.label,t=e.handleChange,a=e.value,i=new h;return r.a.createElement("div",{className:"input-wrap"},r.a.createElement("label",{htmlFor:n},i.capitalizeFirstLetter(n=n.replace(/([A-Z])/g," $1").trim()),"*"),r.a.createElement(D,{onChange:function(e){return t(e.target.value)},value:a}))}var D=g.a.input(A());function H(){var e=Object(b.a)(["\n  color: red;\n  font-weight: bold;\n  padding: 3px;\n  position: absolute;\n  bottom: -27px;\n  left: 0;\n  animation: fade 0.4s;\n  transform-origin: center;\n\n  @keyframes fade {\n    0% {\n      opacity: 0;\n    }\n    10% {\n      transform: translateX(5px);\n      opacity: 1;\n    }\n    20% {\n      transform: translateX(-5px);\n    }\n    30% {\n      transform: translateX(5px);\n    }\n\n    50% {\n      transform: translateX(0px);\n    }\n    100% {\n    }\n  }\n"]);return H=function(){return e},e}function B(){var e=Object(b.a)(["\n  display: grid;\n  align-items: center;\n  width: 100%;\n  max-width: 400px;\n  position: relative;\n  animation: anim 0.3s ease;\n\n  @keyframes anim {\n    0% {\n      opacity: 0;\n      transform: translateY(-7px);\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  label {\n    font-weight: bold;\n  }\n"]);return B=function(){return e},e}function J(e){var n=e.inputObjects,t=e.errors,i=e.pageNr,c=e.pageSplit,o=Object(a.useState)(),l=Object(u.a)(o,2),s=l[0],m=l[1],p=Object(a.useState)(),f=Object(u.a)(p,2),d=f[0],h=f[1];return Object(a.useEffect)((function(){var e=n.length/c;m(e*i),h(e*i+e)}),[i,n.length,c]),r.a.createElement(r.a.Fragment,null,n.slice(s,d).map((function(e,n){return r.a.createElement(K,{key:e[0]},(a=e[0],i=e[1],c=e[2],r.a.createElement(R,{label:a,value:i,handleChange:c})),t[e[0]]&&r.a.createElement(X,{key:t[e[0]]},t[e[0]]));var a,i,c})))}var K=g.a.div(B()),X=g.a.div(H());function $(){var e=Object(b.a)(["\n  background: ",";\n\n  &:hover {\n    background: ",";\n  }\n"]);return $=function(){return e},e}function V(){var e=Object(b.a)(["\n  margin: auto 0;\n  display: flex;\n  gap: 1rem;\n  grid-column: 1/-1;\n"]);return V=function(){return e},e}function Z(){var e=Object(b.a)(["\n  min-height: 550px;\n  display: grid;\n  width: 100%;\n  place-items: center;\n\n  .input-wrap {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    width: 100%;\n  }\n  button {\n    padding: 1rem 2rem;\n    border: none;\n    color: white;\n    font-size: 16px;\n    cursor: pointer;\n  }\n"]);return Z=function(){return e},e}function _(e){var n=e.mode,t=e.id,i=e.clientDetails,c=e.setIsUpdate,o=e.fetchClients,l=new h,s=new U,m=Object(a.useState)(0),p=Object(u.a)(m,2),f=p[0],d=p[1],b=Object(a.useState)({}),g=Object(u.a)(b,2),v=g[0],E=g[1],O=Object(a.useState)(i?i.name:""),j=Object(u.a)(O,2),y=j[0],w=j[1],k=Object(a.useState)(i?i.email:""),x=Object(u.a)(k,2),S=x[0],N=x[1],C=Object(a.useState)(i?i.organisationNr:""),T=Object(u.a)(C,2),I=T[0],P=T[1],L=Object(a.useState)(i?i.vatNr:""),F=Object(u.a)(L,2),z=F[0],A=F[1],R=Object(a.useState)(i?i.reference:""),D=Object(u.a)(R,2),H=D[0],B=D[1],K=Object(a.useState)(i?i.paymentTerm:""),X=Object(u.a)(K,2),$=X[0],V=X[1],Z=Object(a.useState)(i?i.website:""),_=Object(u.a)(Z,2),W=_[0],G=_[1],Q=Object(a.useState)(i?i.phoneNumber:""),ee=Object(u.a)(Q,2),ne=ee[0],te=ee[1],ae=[["name",y,w],["organisationNr",I,P],["email",S,N],["reference",H,B],["paymentTerm",$,V],["website",W,G],["phoneNumber",ne,te],["vatNr",z,A]];function re(e){l.createCustomer(e).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText+" Check your inputs")})).then((function(e){o(),ae.forEach((function(e){e[2]("")})),d(0)})).catch((function(e){return alert(e)}))}return r.a.createElement("div",null,r.a.createElement("h2",null,l.capitalizeFirstLetter(n)," client"),r.a.createElement(q,null,r.a.createElement(J,{inputObjects:ae,errors:v,pageSplit:2,pageNr:f}),r.a.createElement(Y,null,"update"===n&&r.a.createElement(M,{primary:!0,onClick:function(){return c(!1)}},"Close"),0!==f&&r.a.createElement(M,{onClick:function(){return d((function(e){return e-1}))}},"Back"),1===f?r.a.createElement(M,{onClick:function(){var e={name:y,organisationNr:I,paymentTerm:$,phoneNumber:ne,reference:H,vatNr:z,website:W,email:S};s.validate(e,(function(){switch(E({}),n){case"create":re(e);break;case"update":!function(e,n){l.updateCustomer(e,n).then((function(e){return e.json()})).then((function(e){o(),c(!1)}))}(e,t)}}),(function(e){E(e)}))}},l.capitalizeFirstLetter(n)):r.a.createElement(M,{onClick:function(){var e=ae.length/2,n=ae.slice(e*f,e*f+e).reduce((function(e,n,t){return e[n[0]]=n[1],e}),{});s.validate(n,(function(){E({}),d((function(e){return e+1}))}),(function(e){E(e)}))}},"Next"))))}var q=Object(g.a)(S)(Z()),Y=g.a.div(V()),M=g.a.button($(),(function(e){return e.primary?"purple":"#77dd97"}),(function(e){return e.primary?"#5a045a":"#59b977"}));function W(){var e=Object(b.a)(["\n  h1 {\n    text-align: center;\n  }\n"]);return W=function(){return e},e}function G(){var e=Object(b.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  padding: 0 1rem;\n  gap: 1rem;\n  max-width: 1200px;\n  margin: 0 auto;\n"]);return G=function(){return e},e}function Q(){var e=Object(a.useContext)(o),n=e.customerList,t=e.fetchClients;return Object(a.useEffect)((function(){document.title="Dashboard - Admin",t()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,null,r.a.createElement("h1",null,"Dashboard"),r.a.createElement(ee,null,r.a.createElement(_,{mode:"create",fetchClients:t}),r.a.createElement(L,{customerList:n}))))}var ee=g.a.div(G()),ne=g.a.div(W()),te=t(4);function ae(){var e=Object(b.a)(["\n  width: 100%;\n  max-width: 450px;\n  margin: 0.5rem;\n  h2 {\n    font-size: 40px;\n    color: #fff;\n    white-space: nowrap;\n    text-align: center;\n    margin: 0;\n  }\n  input {\n    padding: 8px;\n  }\n  .input-wrap {\n    display: grid;\n    grid-template-rows: 1fr 1fr;\n    align-items: center;\n    width: 100%;\n  }\n  label {\n    font-weight: bold;\n  }\n\n  .register {\n    text-align: center;\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(b.a)(["\n  padding: 1rem;\n  border-radius: 5px;\n  background: white;\n  width: 100%;\n"]);return re=function(){return e},e}function ie(e){var n=e.setIsLoggedIn,t=new h,i=Object(a.useState)(""),c=Object(u.a)(i,2),o=c[0],l=c[1],s=Object(a.useState)(""),m=Object(u.a)(s,2),p=m[0],f=m[1],d=Object(te.g)(),b=d.location.search,g=new URLSearchParams(b),v=Object(a.useState)(g.get("uid")),E=Object(u.a)(v,2),O=E[0],j=E[1],y=Object(a.useState)(g.get("token")),w=Object(u.a)(y,2),k=w[0],x=w[1];function S(){t.login(o,p).then((function(e){return e.json()})).then((function(e){e.token?(t.setToken(e.token),n(!0),d.push("/home")):alert("Invalid credentials")}))}return Object(a.useEffect)((function(){document.title="Sign in"}),[]),r.a.createElement(N,null,O&&k?r.a.createElement("div",null,r.a.createElement("h2",null,"Activate Account"),r.a.createElement("button",{onClick:function(){t.activateUser(O,k).then((function(){j(null),x(null),d.push("/login")}))}},"Activate my account")):r.a.createElement(ue,null,r.a.createElement("h2",null,"Sign In"),r.a.createElement(ce,null,r.a.createElement("div",{className:"input-wrap"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{placeholder:"example@email.com",onChange:function(e){return l(e.target.value)},value:o,type:"email"})),r.a.createElement("div",{className:"input-wrap"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{placeholder:"Password",value:p,onChange:function(e){return f(e.target.value)},type:"password",onKeyUp:function(e){"Enter"===e.key&&S()}})),r.a.createElement(C,{onClick:S},"Sign in"),r.a.createElement("div",{className:"register"},"No account? ",r.a.createElement(T.b,{to:"/register"},"Register here")))))}var ce=g.a.div(re()),ue=g.a.div(ae());function oe(){var e=Object(b.a)(["\n  list-style-type: none;\n  padding: 0;\n  width: 100%;\n  min-width: 250px;\n  li {\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 1px dashed rgba(0, 0, 0, 0.2);\n    padding-top: 1rem;\n    font-size: calc(0.5rem + 2vw);\n\n    @media (min-width: 600px) {\n      font-size: 1.2rem;\n    }\n  }\n"]);return oe=function(){return e},e}function le(e){var n=e.client;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,n.name),r.a.createElement(se,null,r.a.createElement("li",null,r.a.createElement("span",null,"Org. Nr"),r.a.createElement("span",null,n.organisationNr)),r.a.createElement("li",null,r.a.createElement("span",null,"Reference"),r.a.createElement("span",null,n.reference)),r.a.createElement("li",null,r.a.createElement("span",null,"Payment Term"),r.a.createElement("span",null,n.paymentTerm)),r.a.createElement("li",null,r.a.createElement("span",null,"Website"),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n.website},n.website)),r.a.createElement("li",null,r.a.createElement("span",null,"Email"),r.a.createElement("span",null,n.email)),r.a.createElement("li",null,r.a.createElement("span",null,"Phone Number"),r.a.createElement("span",null,n.phoneNumber)),r.a.createElement("li",null,r.a.createElement("span",null,"VAT Nr"),r.a.createElement("span",null,n.vatNr))))}var se=g.a.ul(oe());function me(){var e=Object(b.a)(["\n  display: flex;\n  gap: 1rem;\n\n  a,\n  button {\n    cursor: pointer;\n    border: none;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 0.75rem;\n    width: 90px;\n    background: purple;\n    color: white;\n    border-radius: 50px;\n    text-decoration: none;\n    font-size: 1rem;\n    position: relative;\n    transition-duration: 100ms;\n    span {\n      transition-duration: 100ms;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      font-size: 1rem;\n      opacity: 0;\n    }\n    i {\n      transition-duration: 100ms;\n    }\n    &:hover {\n      i {\n        transform: translateX(-20px);\n      }\n      span {\n        opacity: 1;\n        transform: translate(-20%, -50%);\n      }\n    }\n  }\n"]);return me=function(){return e},e}function pe(e){var n=e.handleDelete,t=e.setIsUpdate;return r.a.createElement(fe,null,r.a.createElement(T.b,{to:"/home"},r.a.createElement("i",{className:"fas fa-arrow-left"}),r.a.createElement("span",null,"Back")),r.a.createElement("button",{onClick:function(){return t(!0)}},r.a.createElement("i",{className:"fas fa-pen"}),r.a.createElement("span",null,"Edit")),r.a.createElement("button",{to:"/home",onClick:n},r.a.createElement("i",{className:"fas fa-minus-circle"}),r.a.createElement("span",null,"Delete")))}var fe=g.a.div(me());function de(){var e=Object(b.a)(["\n  padding: 1rem;\n  margin: 1rem auto;\n"]);return de=function(){return e},e}function he(){var e=Object(b.a)(["\n  max-width: 600px;\n  padding: 1rem;\n  margin: 0 auto;\n"]);return he=function(){return e},e}function be(e){var n=new h,t=Object(a.useState)(!1),i=Object(u.a)(t,2),c=i[0],l=i[1],s=Object(a.useState)(null),m=Object(u.a)(s,2),p=m[0],f=m[1],d=Object(a.useContext)(o),b=d.customerList,g=d.fetchClients,v=e.match.params.id,E=Object(te.g)();return Object(a.useEffect)((function(){null===b?g():function(){var e=b.filter((function(e){return e.id===parseInt(v)}));f(e[0])}()}),[b]),Object(a.useEffect)((function(){p&&(document.title="Clients - "+p.name)}),[p]),r.a.createElement(ge,null,p&&r.a.createElement(r.a.Fragment,null,c?r.a.createElement(_,{mode:"update",id:v,clientDetails:p,setIsUpdate:l,fetchClients:g}):r.a.createElement(ve,null,r.a.createElement(le,{client:p}),r.a.createElement(pe,{handleDelete:function(){window.confirm("Are you sure?")&&n.deleteCustomer(p.id).then((function(e){return e})).then((function(e){g(),E.push("/home")}))},setIsUpdate:l}))))}var ge=g.a.div(he()),ve=Object(g.a)(S)(de());function Ee(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: auto;\n  padding: 1rem;\n  border-radius: 4px;\n  background: white;\n\n  input {\n    padding: 8px;\n  }\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(b.a)(["\n  display: grid;\n  grid-template-rows: 1fr 1fr;\n  align-items: center;\n  width: 100%;\n\n  label {\n    font-weight: bold;\n    color: purple;\n  }\n"]);return Oe=function(){return e},e}function je(){var e=Object(b.a)(["\n  width: 100%;\n  max-width: 500px;\n  h2 {\n    margin: 0;\n    align-self: flex-start;\n    font-size: 2rem;\n    color: white;\n  }\n"]);return je=function(){return e},e}function ye(e){var n=e.signOut,t=new h,i=Object(a.useState)(""),c=Object(u.a)(i,2),o=c[0],l=c[1],s=Object(a.useState)(""),m=Object(u.a)(s,2),p=m[0],f=m[1],d=Object(a.useState)(""),b=Object(u.a)(d,2),g=b[0],v=b[1],E=Object(a.useState)(""),O=Object(u.a)(E,2),j=O[0],y=O[1],w=Object(a.useState)(""),k=Object(u.a)(w,2),x=k[0],S=k[1],I=Object(a.useState)(""),P=Object(u.a)(I,2),L=P[0],F=P[1],z=Object(a.useState)(!1),U=Object(u.a)(z,2),A=U[0],R=U[1],D=[["First Name",o,l],["Last Name",p,f],["Email",g,v],["Password",j,y,"password"],["Org. Name",x,S],["Org. Kind",L,F]];return Object(a.useEffect)((function(){document.title="Register"}),[]),Object(a.useEffect)((function(){n()}),[n]),r.a.createElement(N,null,r.a.createElement(we,null,r.a.createElement("h2",null,"Register"),A?r.a.createElement("h1",null,"Check your email at ",g):r.a.createElement(xe,null,D.map((function(e,n){return function(e,n,t,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"text";return r.a.createElement(ke,{key:e},r.a.createElement("label",null,n),r.a.createElement("input",{required:!0,type:i,placeholder:n,value:t,onChange:function(e){return a(e.target.value)}}))}(n,e[0],e[1],e[2],e[3])})),r.a.createElement(C,{onClick:function(){t.register(o,p,g,j,x,L),R(!0)}},"Register"),r.a.createElement(T.b,{to:"/"},"Back to sign in"))))}var we=g.a.div(je()),ke=g.a.div(Oe()),xe=g.a.div(Ee());var Se=function(){var e=new h,n=Object(a.useState)(""!==e.getToken()),t=Object(u.a)(n,2),i=t[0],c=t[1],l=Object(a.useState)(null),s=Object(u.a)(l,2),m=s[0],p=s[1],f=Object(a.useState)(null),d=Object(u.a)(f,2),b=d[0],g=d[1],v=Object(te.g)();function E(){c(!1),e.setToken("")}return Object(a.useEffect)((function(){i?e.getLoggedInUser().then((function(e){return e.json()})).then((function(e){return p(e)})):v.push("/")}),[i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Provider,{value:{userCredentials:m,customerList:b,setCustomerList:g,fetchClients:function(){e.getCustomerList().then((function(e){return e.json()})).then((function(e){g(e.results)}))}}},i&&r.a.createElement(O,{handleSignOut:E}),r.a.createElement(te.d,null,r.a.createElement(te.b,{path:"/home"},i?r.a.createElement(Q,null):r.a.createElement(te.a,{to:"/"})),r.a.createElement(te.b,{path:"/register"},r.a.createElement(ye,{signOut:E})),r.a.createElement(te.b,{path:"/client/:id",render:function(e){return r.a.createElement(be,e)}}),r.a.createElement(te.b,{path:"/"},i?r.a.createElement(te.a,{to:"/home"}):r.a.createElement(ie,{setIsLoggedIn:c})))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T.a,null,r.a.createElement(Se,null))),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.1839a5bc.chunk.js.map